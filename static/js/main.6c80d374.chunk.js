(this["webpackJsonpbookshop-prod-react"]=this["webpackJsonpbookshop-prod-react"]||[]).push([[0],{102:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),r=n(37),s=n.n(r),o=(n(102),n(0)),i=n.n(o),u=n(27),l=n(1),j=n(19),d=n(16),b=n(48),m=Object(b.b)({name:"auth",initialState:{currentUser:null,loginSuccess:!1,registerSuccess:!1,resetPasswordSuccess:!1},reducers:{setCurrentUser:function(e,t){e.currentUser=t.payload},setLoginSuccess:function(e,t){e.loginSuccess=t.payload},setRegisterSuccess:function(e,t){e.registerSuccess=t.payload},setResetPasswordSuccess:function(e,t){e.resetPasswordSuccess=t.payload}}}),p=m.actions,f=m,h=n(14),O=n(65),x=n.n(O),v=n.p+"static/media/background_books_image.3a124e66.jpg",g=n(82),_=n.n(g),w=n(5),S=function(){return Object(w.jsx)("div",{className:_.a["main-image"],children:Object(w.jsx)("img",{src:v,alt:"books"})})},k=n(30),N=n(83),y=n.n(N),C=n(84),E=n.n(C),I=function(e){return Object(w.jsx)("button",{type:e.type||"button",className:"".concat(e.className," ").concat(E.a.button," "),onClick:e.onClick,children:e.children})},P=n(53);n(115),n(109);P.a.initializeApp({apiKey:"AIzaSyDKWKsqJ1vgUss06Laxv8_mO414ZFSGXpk",authDomain:"react-bookshop-4ca2f.firebaseapp.com",projectId:"react-bookshop-4ca2f",storageBucket:"react-bookshop-4ca2f.appspot.com",messagingSenderId:"633472712977",appId:"1:633472712977:web:f3fa9651dac7b2142d0cb0"});var B=P.a.auth(),F=P.a.firestore(),A=new P.a.auth.GoogleAuthProvider;A.setCustomParameters({prompt:"select_account"});var R=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c,a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return c=t.uid,a=t.displayName,r=t.email,s=F.doc("users/".concat(c)),e.next=6,s.get();case 6:if(e.sent.exists){e.next=17;break}return o=(new Date).getTime(),e.prev=9,e.next=12,s.set(Object(u.a)({displayName:a,email:r,createdDate:o},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log(e.t0);case 17:return e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}(),L=n(78),H=n.n(L),U=function(e){var t=Object(d.c)((function(e){return e.auth.currentUser}));return Object(w.jsxs)(a.a.Fragment,{children:[!t&&Object(w.jsxs)(a.a.Fragment,{children:[Object(w.jsx)(k.c,{to:"/register",activeClassName:H.a.active,children:Object(w.jsx)(I,{children:"Register"})}),Object(w.jsx)(k.c,{to:"/login",activeClassName:H.a.active,children:Object(w.jsx)(I,{children:"Login"})})]}),t&&Object(w.jsxs)(a.a.Fragment,{children:[Object(w.jsx)(I,{onClick:function(){B.signOut()},children:"Logout"}),Object(w.jsx)(I,{children:"Orders"})]})]})},D=function(){return Object(w.jsx)("div",{className:y.a.navigation,children:Object(w.jsx)(U,{})})},T=n(54),W=n.n(T),z=n(87),J=n.n(z),M=n(91),V=n.n(M),G=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],o=function(){r(!n)};return Object(w.jsxs)(a.a.Fragment,{children:[!n&&Object(w.jsx)("div",{className:W.a.menu,children:Object(w.jsx)(J.a,{fontSize:"large",onClick:o})}),n&&Object(w.jsx)("div",{className:W.a.menu,children:Object(w.jsx)(V.a,{fontSize:"large",onClick:o})}),s.a.createPortal(Object(w.jsx)("div",{className:W.a.mobileNav,children:n&&Object(w.jsx)("div",{className:W.a.popupMenu,children:Object(w.jsx)(U,{})})}),document.getElementById("overlay"))]})},K=n(92),Q=n.n(K),X=n(128),q=n(44),Z=n(66),Y=n.n(Z),$=function(e){var t=Object(c.useContext)(q.a),n=Object(c.useState)(!1),a=Object(h.a)(n,2),r=a[0],s=a[1],o=t.items.reduce((function(e,t){return e+t.amount}),0),i="".concat(Y.a.icon," ").concat(r?Y.a.bump:"");return Object(c.useEffect)((function(){if(0!==o){s(!0);var e=setTimeout((function(){s(!1)}),300);return function(){clearTimeout(e)}}}),[t.items,o]),Object(w.jsx)(X.a,{showZero:!0,badgeContent:o,color:"primary",onClick:e.onClick,className:Y.a.cart,children:Object(w.jsx)(Q.a,{fontSize:"large",className:i})})},ee=function(e){var t=Object(d.c)((function(e){return e.auth.currentUser}));return Object(w.jsxs)(a.a.Fragment,{children:[Object(w.jsxs)("header",{className:x.a.header,children:[Object(w.jsx)(k.b,{to:"/",style:{textDecoration:"none"},children:Object(w.jsx)("h1",{className:x.a.bookshopcaption,children:"Bookshop"})}),Object(w.jsxs)("div",{className:x.a.navlinks,children:[Object(w.jsx)(D,{}),Object(w.jsx)(G,{}),t&&Object(w.jsx)($,{onClick:e.onOpen})]})]}),Object(w.jsx)(S,{})]})},te=n(25),ne=null===localStorage.getItem("cart")?{items:[],totalAmount:0}:JSON.parse(localStorage.getItem("cart")),ce=function(e,t){if("ADD"===t.type){var n,c=e.totalAmount+t.item.price,a=e.items.findIndex((function(e){return e.id===t.item.id})),r=e.items[a];if(r){var s=Object(u.a)(Object(u.a)({},r),{},{amount:r.amount+1});(n=Object(te.a)(e.items))[a]=s}else n=e.items.concat(t.item);return console.log(n),console.log(c),localStorage.setItem("cart",JSON.stringify({items:n,totalAmount:c})),{items:n,totalAmount:c}}if("REMOVE_WHOLE"===t.type){var o=e.items.findIndex((function(e){return e.id===t.id})),i=e.items[o],l=e.totalAmount-i.price*i.amount;l=l<0?0:l;var j=e.items.filter((function(e){return e.id!==t.id}));return console.log(j),localStorage.setItem("cart",JSON.stringify({items:j,totalAmount:l})),{items:j,totalAmount:l}}if("REMOVE_ONE"===t.type){var d,b=e.items.findIndex((function(e){return e.id===t.id})),m=e.items[b],p=e.totalAmount-m.price;if(p=p<0?0:p,1===m.amount)d=e.items.filter((function(e){return e.id!==t.id}));else{var f=Object(u.a)(Object(u.a)({},m),{},{amount:m.amount-1});(d=Object(te.a)(e.items))[b]=f}return console.log(d),localStorage.setItem("cart",JSON.stringify({items:d,totalAmount:p})),{items:d,totalAmount:p}}return"CLEAR"===t.type?(localStorage.setItem("cart",JSON.stringify({items:[],totalAmount:0})),{items:[],totalAmount:0}):ne},ae=function(e){var t=Object(c.useReducer)(ce,ne),n=Object(h.a)(t,2),a=n[0],r=n[1],s={items:a.items,totalAmount:a.totalAmount,clearCart:function(){r({type:"CLEAR"})},addItem:function(e){r({type:"ADD",item:e})},removeWholeItem:function(e){r({type:"REMOVE_WHOLE",id:e})},removeOneItem:function(e){r({type:"REMOVE_ONE",id:e})}};return Object(w.jsx)(q.a.Provider,{value:s,children:e.children})},re=n(57),se=n(129),oe=function(){return Object(w.jsxs)(a.a.Fragment,{children:[Object(w.jsx)(re.a,{}),Object(w.jsx)("div",{style:{position:"fixed",left:"calc(50% - 2rem)",top:"calc(50% - 2rem)"},children:Object(w.jsx)(se.a,{size:"4rem",color:"secondary"})}),Object(w.jsx)(S,{})]})},ie=n(67),ue=n.n(ie),le=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],s=Object(d.c)((function(e){return e.ui.popup})),o=Object(d.c)((function(e){return e.ui.notification})),i="".concat(ue.a.notification," ").concat(n);return Object(c.useEffect)((function(){if(o){var e=o.status;"error"===e&&r(ue.a.error),"success"===e&&r(ue.a.success)}}),[o]),Object(w.jsx)(a.a.Fragment,{children:s?Object(w.jsx)("div",{className:i,children:o.message}):""})},je=Object(b.b)({name:"ui",initialState:{spinner:null,notification:null,popup:!1},reducers:{showSpinner:function(e,t){e.spinner=t.payload},setNotification:function(e,t){e.notification={status:t.payload.status,message:t.payload.message}},setPopup:function(e,t){e.popup=t.payload}}}),de=je,be=je.actions,me=a.a.lazy((function(){return n.e(3).then(n.bind(null,136))})),pe=a.a.lazy((function(){return n.e(4).then(n.bind(null,135))})),fe=function(e){var t=Object(c.useState)(!1),n=Object(h.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),o=Object(h.a)(s,2),i=o[0],l=o[1],j=Object(d.c)((function(e){return e.ui.popup})),b=Object(d.b)();return Object(c.useEffect)((function(){if(j){var e=setTimeout((function(){b(be.setPopup(!1))}),4e3);return function(){return clearTimeout(e)}}}),[j,b]),Object(w.jsx)(c.Suspense,{fallback:Object(w.jsx)(oe,{}),children:Object(w.jsxs)(ae,{children:[Object(w.jsx)(ee,Object(u.a)({onOpen:function(){r(!0)}},e)),Object(w.jsx)(le,{}),e.children,a&&Object(w.jsx)(me,{onClose:function(){r(!1)},onOrderModalToggle:function(){l(!0)}}),i&&Object(w.jsx)(pe,{onClick:function(){l(!1)}})]})})},he=n(55),Oe=n.n(he),xe=n(94),ve=n.n(xe),ge=function(e){return Object(w.jsx)("div",{className:"".concat(e.className," ").concat(ve.a.card," "),children:e.children})},_e=n(49),we=n.n(_e),Se=n(68),ke=n.n(Se),Ne=n(34),ye=function(e){var t=Object(c.useState)("paper"),n=Object(h.a)(t,2),a=n[0],r=n[1],s=0,o=0;return Object(w.jsxs)("form",{className:ke.a.form,onSubmit:function(t){t.preventDefault(),"paper"===a?e.onAdd(a,++s):e.onAdd(a,++o)},children:[Object(w.jsxs)("select",{value:a,name:"booktype",className:ke.a.select,onChange:function(e){r(e.target.value)},children:[Object(w.jsx)("option",{value:"ebook",children:"E-book"}),Object(w.jsx)("option",{value:"paper",children:"Paper"})]}),Object(w.jsx)(Ne.a,{type:"submit",className:ke.a.item,children:"+ Add"})]})},Ce=n(69),Ee=n.n(Ce),Ie=function(e){return Object(w.jsxs)(a.a.Fragment,{children:[Object(w.jsxs)("div",{className:Ee.a.detailsmodal,children:[Object(w.jsxs)("div",{className:Ee.a.details,children:[Object(w.jsx)("h1",{children:e.name}),e.details]}),Object(w.jsx)(Ne.a,{className:Ee.a.btn,onClick:e.onClose,children:"OK"})]}),Object(w.jsx)(re.a,{onClick:e.onClose})]})},Pe=function(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.auth.currentUser})),a=Object(c.useContext)(q.a),r=Object(c.useState)(!1),s=Object(h.a)(r,2),o=s[0],i=s[1],u=Object(c.useState)(!1),l=Object(h.a)(u,2),j=l[0],b=l[1],m="".concat(we.a.name," ").concat(o?we.a.shake:"");return Object(c.useEffect)((function(){var e=setTimeout((function(){i(!1)}),300);return function(){clearTimeout(e)}}),[o]),Object(w.jsxs)("li",{className:we.a.book,children:[Object(w.jsx)("h1",{className:m,children:e.name}),Object(w.jsxs)("div",{className:we.a.price,children:["$",e.price.toFixed(2)]}),Object(w.jsx)("div",{className:we.a.moreinfo,onClick:function(){b(!0)},children:"more info"}),j&&Object(w.jsx)(Ie,{name:e.name,details:e.details,onClose:function(){b(!1)}}),Object(w.jsx)("div",{children:Object(w.jsx)(ye,{id:e.id,onAdd:function(c,r){n?(a.addItem({id:"".concat(e.id,"_").concat(c),name:e.name,price:e.price,type:c,amount:r}),i(!0)):(t(be.setNotification({status:"error",message:"Please log in!"})),t(be.setPopup(!0)))},formStatus:o})})]})},Be=function(e){var t=Object(c.useState)(""),n=Object(h.a)(t,2),r=n[0],s=n[1],o=Object(c.useState)([]),j=Object(h.a)(o,2),d=j[0],b=j[1],m=Object(c.useState)(""),p=Object(h.a)(m,2),f=p[0],O=p[1];Object(c.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.collection("books").get().then((function(e){if(e.empty&&e.metadata.fromCache)throw new Error;var t=e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})}));b(t)}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),O("Something went wrong. Please check Your internet connection or try again later.");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var x=d.filter((function(e){return(""===r||!!e.name.toLowerCase().includes(r.toLowerCase()))&&e})).map((function(e){return Object(w.jsx)(Pe,{id:e.id,name:e.name,price:e.price,details:e.details},e.id)}));return Object(w.jsxs)(ge,{children:[Object(w.jsx)("div",{className:Oe.a.searchheader,children:Object(w.jsx)("input",{placeholder:"Search title...",type:"text",onChange:function(e){s(e.target.value)},className:Oe.a.titlesearchbar,maxLength:"20"})}),Object(w.jsx)("div",{className:Oe.a.scroll,children:d.length>0?Object(w.jsx)("ul",{children:x}):Object(w.jsxs)(a.a.Fragment,{children:[""!==f&&Object(w.jsx)("h3",{className:Oe.a.error,children:f}),""===f&&Object(w.jsx)("div",{style:{position:"fixed",left:"calc(50% - 2rem)",top:"calc(50% - 0.5rem)"},children:Object(w.jsx)(se.a,{size:"4rem",color:"secondary"})})]})})]})},Fe=function(){return Object(w.jsx)(Be,{})},Ae=function(e,t,n){return function(){var c=Object(l.a)(i.a.mark((function c(a){var r,s;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a(be.showSpinner(!0)),c.next=4,B.createUserWithEmailAndPassword(e,t);case 4:return r=c.sent,s=r.user,c.next=8,R(s,{displayName:n});case 8:a(p.setRegisterSuccess(!0)),a(be.setNotification({status:"success",message:"Registered!"})),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(0),console.log(c.t0.message),a(be.setNotification({status:"error",message:"Something went wrong!"}));case 16:a(be.setPopup(!0)),a(p.setRegisterSuccess(!1)),a(be.showSpinner(!1));case 19:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}}()},Re=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(n){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(be.showSpinner(!0)),c={url:"http://localhost:3000/login"},t.next=5,B.sendPasswordResetEmail(e,c);case 5:n(be.setNotification({status:"success",message:"Password reset!"})),n(p.setResetPasswordSuccess(!0)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),n(be.setNotification({status:"error",message:"Something went wrong!"}));case 13:n(be.setPopup(!0)),n(p.setResetPasswordSuccess(!1)),n(be.showSpinner(!1));case 16:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Le=n(70),He=n.n(Le),Ue=n(71),De=n.n(Ue),Te=function(e){var t=e.hasError?"".concat(De.a["form-control"]," ").concat(De.a.invalid):De.a["form-control"];return Object(w.jsx)("div",{className:"".concat(e.className," ").concat(t," "),children:e.children})},We=n(96),ze=n.n(We),Je=function(e){return Object(w.jsx)("h1",{className:"".concat(e.className," ").concat(ze.a.caption," "),children:e.children})},Me={value:"",isTouched:!1},Ve=function e(t,n){return"INPUT"===n.type?{value:n.value,isTouched:t.isTouched}:"BLUR"===n.type?{isTouched:!0,value:t.value}:"RESET"===n.type?{isTouched:!1,value:""}:e},Ge=function(e){var t=Object(c.useReducer)(Ve,Me),n=Object(h.a)(t,2),a=n[0],r=n[1],s=e(a.value),o=!s&&a.isTouched;return{value:a.value,hasError:o,valueChangeHandler:function(e){r({type:"INPUT",value:e.target.value})},inputBlurHandler:function(e){r({type:"BLUR"})},isValid:s,reset:function(){r({type:"RESET"})}}},Ke=function(e){return!!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},Qe=function(e){return!!/(?=.*[0-9a-zA-Z]).{6,}/.test(e)},Xe=Object(j.g)((function(e){var t=Object(d.c)((function(e){return e.auth.registerSuccess})),n=Object(d.c)((function(e){return e.ui.spinner})),r=Object(d.b)(),s=e.history,o=Ge((function(e){return""!==e.trim()})),u=o.value,j=o.isValid,b=o.hasError,m=o.valueChangeHandler,p=o.inputBlurHandler,f=o.reset,h=Ge((function(e){return Ke(e)})),O=h.value,x=h.isValid,v=h.hasError,g=h.valueChangeHandler,_=h.inputBlurHandler,S=h.reset,k=Ge((function(e){return Qe(e)})),N=k.value,y=k.isValid,C=k.hasError,E=k.valueChangeHandler,I=k.inputBlurHandler,P=k.reset,B=Ge((function(e){return e===N&&""!==e})),F=B.value,A=B.isValid,R=B.hasError,L=B.valueChangeHandler,H=B.inputBlurHandler,U=B.reset,D=!1;j&&x&&y&&A&&(D=!0);var T=Object(c.useCallback)((function(){f(),S(),P(),U()}),[f,S,P,U]);Object(c.useEffect)((function(){t&&(s.push("/"),T())}),[t,T,s]);var W=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),D&&r(Ae(O,N,u));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(a.a.Fragment,{children:n?Object(w.jsx)(oe,{}):Object(w.jsx)(ge,{className:He.a.mainwrap,children:Object(w.jsxs)("div",{className:He.a.scroll,children:[Object(w.jsx)(Je,{children:"Register"}),Object(w.jsxs)("form",{onSubmit:W,children:[Object(w.jsxs)(Te,{hasError:b,children:[Object(w.jsx)("label",{htmlFor:"name",children:"Name"}),Object(w.jsx)("input",{type:"text",id:"name",value:u,onChange:m,onBlur:p}),b&&Object(w.jsx)("p",{children:"Please enter Your name"})]}),Object(w.jsxs)(Te,{hasError:v,children:[Object(w.jsx)("label",{htmlFor:"email",children:"Email"}),Object(w.jsx)("input",{type:"email",id:"email",value:O,onChange:g,onBlur:_}),v&&Object(w.jsx)("p",{children:"Please enter valid e-mail"})]}),Object(w.jsxs)(Te,{hasError:C,children:[Object(w.jsx)("label",{htmlFor:"password",children:"Password"}),Object(w.jsx)("input",{type:"password",id:"password",value:N,onChange:E,onBlur:I}),C&&Object(w.jsx)("p",{children:"Password must have at least 6 characters"})]}),Object(w.jsxs)(Te,{hasError:R,children:[Object(w.jsx)("label",{htmlFor:"confirm-password",children:"Confirm password"}),Object(w.jsx)("input",{type:"password",id:"confirm-password",value:F,onChange:L,onBlur:H}),R&&Object(w.jsx)("p",{children:"Passwords do not match"})]}),Object(w.jsx)(Ne.a,{className:He.a.btn,disabled:!D,type:"submit",children:"Register"})]})]})})})})),qe=function(){return Object(w.jsx)(Xe,{})},Ze=n(43),Ye=n.n(Ze),$e=Object(j.g)((function(e){var t=Object(d.c)((function(e){return e.auth.loginSuccess})),n=Object(d.c)((function(e){return e.ui.spinner})),r=Object(d.b)(),s=Object(c.useState)(""),o=Object(h.a)(s,2),u=o[0],j=o[1],b=Object(c.useState)(""),m=Object(h.a)(b,2),f=m[0],O=m[1],x=e.history;Object(c.useEffect)((function(){t&&(x.push("/"),j(""),O(""))}),[t,x]);return Object(w.jsx)(a.a.Fragment,{children:n?Object(w.jsx)(oe,{}):Object(w.jsx)(ge,{className:Ye.a.mainwrap,children:Object(w.jsxs)("div",{className:Ye.a.scroll,children:[Object(w.jsx)(Je,{children:"Login"}),Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Ke(u)&&Qe(f)&&r(function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(c){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(be.showSpinner(!0)),n.next=4,B.signInWithEmailAndPassword(e,t);case 4:c(p.setLoginSuccess(!0)),c(be.setNotification({status:"success",message:"Logged in!"})),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.message),c(be.setNotification({status:"error",message:"Something went wrong!"}));case 12:c(be.setPopup(!0)),c(p.setLoginSuccess(!1)),c(be.showSpinner(!1));case 15:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(u,f))},children:[Object(w.jsxs)(Te,{children:[Object(w.jsx)("label",{htmlFor:"email",children:"Email"}),Object(w.jsx)("input",{type:"email",id:"email",value:u,onChange:function(e){j(e.target.value)}})]}),Object(w.jsxs)(Te,{children:[Object(w.jsx)("label",{htmlFor:"password",children:"Password"}),Object(w.jsx)("input",{type:"password",id:"password",value:f,onChange:function(e){O(e.target.value)}})]}),Object(w.jsx)("div",{className:Ye.a.resetWrap,children:Object(w.jsx)(k.b,{to:"/resetPassword",children:Object(w.jsx)("p",{className:Ye.a.reset,children:"Lost password?"})})}),Object(w.jsx)(Ne.a,{className:Ye.a.btn,type:"submit",children:"Login"})]}),Object(w.jsx)(Ne.a,{className:Ye.a.btnGoogle,onClick:function(){r(function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(be.showSpinner(!0)),e.next=4,B.signInWithPopup(A);case 4:t(p.setLoginSuccess(!0)),t(be.setNotification({status:"success",message:"Logged in!"})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message),t(be.setNotification({status:"error",message:"Something went wrong!"}));case 12:t(be.setPopup(!0)),t(p.setLoginSuccess(!1)),t(be.showSpinner(!1));case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},children:"Sign in with Google"})]})})})})),et=function(){return Object(w.jsx)($e,{})},tt=n(72),nt=n.n(tt),ct=Object(j.g)((function(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.auth.resetPasswordSuccess})),r=Object(d.c)((function(e){return e.ui.spinner})),s=Object(c.useState)(""),o=Object(h.a)(s,2),u=o[0],j=o[1],b=e.history;Object(c.useEffect)((function(){n&&(b.push("/login"),j(""))}),[n,b]);var m=function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),Ke(u)&&t(Re(u));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(a.a.Fragment,{children:r?Object(w.jsx)(oe,{}):Object(w.jsx)(ge,{className:nt.a.mainwrap,children:Object(w.jsxs)("div",{className:nt.a.scroll,children:[Object(w.jsx)(Je,{children:"Reset password"}),Object(w.jsx)("form",{onSubmit:m,children:Object(w.jsxs)(Te,{children:[Object(w.jsx)("label",{htmlFor:"email",children:"Email"}),Object(w.jsx)("input",{type:"email",id:"email",value:u,onChange:function(e){j(e.target.value)}}),Object(w.jsx)(Ne.a,{className:nt.a.btn,type:"submit",children:"Recover"})]})})]})})})})),at=function(){return Object(w.jsx)(ct,{})},rt=function(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.auth.currentUser}));return Object(c.useEffect)((function(){var e=B.onAuthStateChanged(function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,R(n);case 3:e.sent.onSnapshot((function(e){t(p.setCurrentUser(Object(u.a)({id:e.id},e.data())))}));case 5:t(p.setCurrentUser(null));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[t]),Object(w.jsx)(a.a.Fragment,{children:Object(w.jsxs)(j.d,{children:[Object(w.jsx)(j.b,{path:"/register",render:function(){return n?Object(w.jsx)(j.a,{to:"/"}):Object(w.jsx)(fe,{children:Object(w.jsx)(qe,{})})}}),Object(w.jsx)(j.b,{path:"/login",render:function(){return n?Object(w.jsx)(j.a,{to:"/"}):Object(w.jsx)(fe,{children:Object(w.jsx)(et,{})})}}),Object(w.jsx)(j.b,{path:"/resetPassword",render:function(){return n?Object(w.jsx)(j.a,{to:"/"}):Object(w.jsx)(fe,{children:Object(w.jsx)(at,{})})}}),Object(w.jsx)(j.b,{path:"/",render:function(){return Object(w.jsx)(fe,{children:Object(w.jsx)(Fe,{})})}})]})})},st=Object(b.a)({reducer:{auth:f.reducer,ui:de.reducer}});s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(d.a,{store:st,children:Object(w.jsx)(k.a,{basename:"/",children:Object(w.jsx)(rt,{})})})}),document.getElementById("root"))},34:function(e,t,n){"use strict";var c=n(95),a=n.n(c),r=n(5);t.a=function(e){return Object(r.jsx)("button",{type:e.type||"button",className:"".concat(e.className," ").concat(a.a.button," "),onClick:e.onClick,disabled:e.disabled||!1,children:e.children})}},43:function(e,t,n){e.exports={mainwrap:"SignIn_mainwrap__2EbRg",scroll:"SignIn_scroll__38gae",btn:"SignIn_btn__I-4z1",btnGoogle:"SignIn_btnGoogle__2iKmU",resetWrap:"SignIn_resetWrap__29k2b",reset:"SignIn_reset__2Q5WU"}},44:function(e,t,n){"use strict";var c=n(4),a=n.n(c).a.createContext({items:[],totalAmount:0,clearCart:function(){},addItem:function(e){},removeWholeItem:function(e){},removeOneItem:function(e){}});t.a=a},49:function(e,t,n){e.exports={book:"BookItem_book__5vnL1",price:"BookItem_price__1jQEL",moreinfo:"BookItem_moreinfo__1pP5a",name:"BookItem_name__3W6eH",shake:"BookItem_shake__1yLAw"}},54:function(e,t,n){e.exports={menu:"MobileNavigation_menu__1Nr9m",mobileNav:"MobileNavigation_mobileNav__2DNHw",popupMenu:"MobileNavigation_popupMenu__1WdEH"}},55:function(e,t,n){e.exports={scroll:"Books_scroll__24MDJ",searchheader:"Books_searchheader__2QJMd",titlesearchbar:"Books_titlesearchbar__3hQ2U",error:"Books_error__CFydQ"}},57:function(e,t,n){"use strict";var c=n(93),a=n.n(c),r=n(5);t.a=function(e){return Object(r.jsx)("div",{className:a.a.backdrop,onClick:e.onClick})}},65:function(e,t,n){e.exports={header:"Header_header__1VCKf",navlinks:"Header_navlinks__2XzKG"}},66:function(e,t,n){e.exports={cart:"HeaderBtn_cart__2SqFc",icon:"HeaderBtn_icon__3bQ4x",bump:"HeaderBtn_bump__2w7kt"}},67:function(e,t,n){e.exports={notification:"FormSubmissionPopup_notification__2BwXG",error:"FormSubmissionPopup_error__Lhi_4",success:"FormSubmissionPopup_success__1k1JD"}},68:function(e,t,n){e.exports={form:"BookItemForm_form__Zzh86",select:"BookItemForm_select__3n7TT",item:"BookItemForm_item__2KFqX"}},69:function(e,t,n){e.exports={detailsmodal:"BookDetails_detailsmodal__2Of-5","details-appear":"BookDetails_details-appear__kIAQJ",details:"BookDetails_details__HmNdv",btn:"BookDetails_btn__1ntyc"}},70:function(e,t,n){e.exports={scroll:"SignUp_scroll__2wpKi",mainwrap:"SignUp_mainwrap__j_HHg",btn:"SignUp_btn__CwJwc"}},71:function(e,t,n){e.exports={"form-control":"InputWrap_form-control__3yjlN",invalid:"InputWrap_invalid__2tGH-"}},72:function(e,t,n){e.exports={mainwrap:"PasswordRecovery_mainwrap__3aBko",btn:"PasswordRecovery_btn__wWhOd",scroll:"PasswordRecovery_scroll__gOUFJ"}},78:function(e,t,n){e.exports={active:"NavLinks_active__133j8"}},82:function(e,t,n){e.exports={"main-image":"BackgroundImage_main-image__w64W_"}},83:function(e,t,n){e.exports={navigation:"Navigation_navigation__11jj5"}},84:function(e,t,n){e.exports={button:"NavButton_button__1qdXz"}},93:function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__1uHu4"}},94:function(e,t,n){e.exports={card:"Card_card__1m44e"}},95:function(e,t,n){e.exports={button:"Button_button__6-R6B"}},96:function(e,t,n){e.exports={caption:"FormCaption_caption__xI1py"}}},[[113,1,2]]]);
//# sourceMappingURL=main.6c80d374.chunk.js.map