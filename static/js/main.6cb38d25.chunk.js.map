{"version":3,"sources":["components/Header/Navigation.module.css","components/UI/NavButton.module.css","redux-store/auth-slice.js","components/UI/Card.js","components/Books/BookItemForm.js","components/Books/BookDetails.js","components/Books/BookItem.js","components/Books/Books.js","pages/Mainpage.js","redux-store/auth-actions.js","components/UI/forms/InputWrap.js","components/UI/Caption.js","assets/background_books_image.jpg","components/UI/BackgroundImage.js","components/UI/LoadingScreen.js","hooks/use-input.js","components/Authentication/SignUp.js","pages/Register.js","components/Authentication/SignIn.js","pages/Login.js","components/Authentication/PasswordRecovery.js","pages/PasswordReset.js","components/UI/Table.js","components/UI/TableHeader.js","components/UI/TableRow.js","components/Orders/OrderItem.js","components/Orders/Orders.js","pages/Orderspage.js","components/Orders/OrderDetailsItem.js","components/Orders/OrderDetails.js","pages/OrderDetailspage.js","components/UI/NavButton.js","components/Header/NavLinks.js","components/Header/Navigation.js","components/Header/MobileNavigation.js","components/Header/HeaderBtn.js","components/Header/Header.js","store/CartProvider.js","components/UI/forms/FormSubmissionPopup.js","layouts/Mainlayout.js","components/CustomRoutes/ShopRoute.js","App.js","redux-store/index.js","index.js","redux-store/ui-slice.js","firebase/utils.js","firebase/config.js","components/UI/Button.js","components/Header/NavLinks.module.css","components/Authentication/SignIn.module.css","store/cart-context.js","components/Books/BookItem.module.css","components/Books/Books.module.css","components/Orders/OrderDetails.module.css","components/Header/MobileNavigation.module.css","components/UI/Backdrop.js","components/Books/BookItemForm.module.css","components/Books/BookDetails.module.css","components/Authentication/SignUp.module.css","components/UI/forms/InputWrap.module.css","components/Authentication/PasswordRecovery.module.css","components/Header/HeaderBtn.module.css","components/UI/forms/FormSubmissionPopup.module.css","components/Orders/Orders.module.css","components/Header/Header.module.css","components/UI/Card.module.css","components/UI/Button.module.css","components/UI/Backdrop.module.css","components/UI/Caption.module.css","components/UI/BackgroundImage.module.css","components/UI/Table.module.css","components/UI/TableHeader.module.css","components/Orders/OrderItem.module.css","components/UI/TableRow.module.css"],"names":["module","exports","currentUser","localStorage","getItem","JSON","parse","authSlice","createSlice","name","initialState","loginSuccess","registerSuccess","resetPasswordSuccess","reducers","setCurrentUser","state","action","payload","setLoginSuccess","setRegisterSuccess","setResetPasswordSuccess","authActions","actions","Card","props","className","classes","card","children","BookItemForm","useState","typeSelected","setTypeSelected","paperCounter","ebookCounter","form","onSubmit","event","preventDefault","onAdd","value","select","onChange","target","Button","type","item","BookDetails","Fragment","detailsmodal","details","btn","onClick","onClose","Backdrop","BookItem","dispatch","useDispatch","useSelector","auth","cartCtx","useContext","CartContext","formStatus","setFormStatus","detailsStatus","setDetailsStatus","nameClasses","shake","useEffect","timer","setTimeout","clearTimeout","book","price","toFixed","moreinfo","id","amount","addItem","uiActions","setNotification","status","message","setPopup","Books","searchTitle","setSearchTitle","allBooks","setAllBooks","errorMsg","setErrorMsg","a","firestore","collection","get","then","snapshot","metadata","fromCache","Error","docs","map","doc","data","console","log","fetchAllBooks","booksList","filter","toLowerCase","includes","searchheader","placeholder","titlesearchbar","maxLength","scroll","length","error","style","position","left","top","CircularProgress","size","color","Mainpage","showPopup","showSpinner","setPopupData","registerUser","email","password","createUserWithEmailAndPassword","user","handleNewProfile","displayName","resetPassword","resetCfg","url","sendPasswordResetEmail","InputWrap","inputClasses","hasError","Caption","caption","BackgroundImage","src","booksImage","alt","LoadingScreen","initialInputState","isTouched","inputStateReducer","useInput","validateValue","useReducer","inputState","valueIsValid","valueChangeHandler","inputBlurHandler","isValid","reset","validateEmail","test","withRouter","spinnerVisible","ui","spinner","history","trim","nameValue","nameIsValid","nameHasError","nameChangeHandler","nameBlurHandler","resetName","mailValue","mailIsValid","mailHasError","mailChangeHandler","mailBlurHandler","resetMail","validatePassword","passwordValue","passwordIsValid","passwordHasError","passwordChangeHandler","passwordBlurHandler","confirmPasswordValue","confirmPasswordIsValid","confirmPasswordHasError","confirmPasswordChangeHandler","confirmPasswordBlurHandler","resetconfirmPassword","formIsValid","resetForm","useCallback","push","submitHandler","mainwrap","htmlFor","onBlur","disabled","Register","SignUp","mail","setMail","setPassword","signInWithEmailAndPassword","loginUser","resetWrap","to","btnGoogle","signInWithGoogle","Login","SignIn","handleFormSubmit","PasswordReset","Table","table","TableHeader","tableheader","TableRow","tablerow","orderDate","Date","getMonth","getDate","getFullYear","month","day","year","stringMonth","orderDateString","pathname","orderitem","orderQuantity","totalAmount","Orders","orderListRender","allOrders","setAllOrders","empty","cartData","setOrderListRender","orderList","order","items","Orderspage","OrderDetailsItem","orderDetails","setOrderDetails","orderId","location","substring","lastIndexOf","forEach","fetchOrderDetails","orderedItems","finalrow","OrderDetailspage","OrderDetails","NavButton","button","NavLinks","clickNavBtnHandler","setMobileNavMenu","activeClassName","active","navbtn","signOut","Navigation","navigation","MobileNavigation","mobileNavMenu","menu","fontSize","ReactDOM","createPortal","mobileNav","popupMenu","document","getElementById","HeaderBtn","btnEffectStatus","setBtnEffectStatus","numberOfItemsInCart","reduce","curNr","iconCartStyle","icon","bump","Badge","showZero","badgeContent","cart","Header","header","textDecoration","navlinks","onOpen","defaultCartState","cartReducer","updatedItems","updatedTotalAmount","exisitingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","setItem","stringify","existingCartItemIndex","CartProvider","cartState","dispatchCartAction","cartContext","clearCart","removeWholeItem","removeOneItem","Provider","FormSubmissionPopup","popupStatusStyle","setPopupStatusStyle","popupVisible","popup","notification","popupStyle","notificationStatus","success","Cart","React","lazy","OrderModal","Mainlayout","cartVisibility","setCartVisibility","orderModalVisibility","setOrderModalVisibility","popUpDisabler","fallback","onOrderModalToggle","ShopRoute","path","component","render","App","authListener","onAuthStateChanged","userAuth","onSnapshot","store","configureStore","reducer","uiSlice","StrictMode","basename","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","GoogleProvider","GoogleAuthProvider","setCustomParameters","prompt","signInWithPopup","additionalData","uid","userRef","exists","timestamp","getTime","set","createdDate","addNewOrder","orderRef","createContext","backdrop"],"mappings":"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","file":"static/js/main.6cb38d25.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"Navigation_navigation__11jj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"NavButton_button__1qdXz\"};","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst currentUser =\n  localStorage.getItem(\"currentUser\") === null\n    ? null\n    : JSON.parse(localStorage.getItem(\"currentUser\"));\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState: {\n    currentUser: currentUser,\n    loginSuccess: false,\n    registerSuccess: false,\n    resetPasswordSuccess: false,\n  },\n  reducers: {\n    setCurrentUser(state, action) {\n      state.currentUser = action.payload;\n    },\n    setLoginSuccess(state, action) {\n      state.loginSuccess = action.payload;\n    },\n    setRegisterSuccess(state, action) {\n      state.registerSuccess = action.payload;\n    },\n    setResetPasswordSuccess(state, action) {\n      state.resetPasswordSuccess = action.payload;\n    },\n  },\n});\n\nexport const authActions = authSlice.actions;\n\nexport default authSlice;\n","import classes from \"./Card.module.css\";\n\nconst Card = (props) => {\n  return (\n    <div className={`${props.className} ${classes.card} `}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import classes from \"./BookItemForm.module.css\";\n\nimport Button from \"../UI/Button\";\nimport { useState } from \"react\";\n\nconst BookItemForm = (props) => {\n  const [typeSelected, setTypeSelected] = useState(\"paper\");\n  let paperCounter = 0;\n  let ebookCounter = 0;\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    if (typeSelected === \"paper\") {\n      props.onAdd(typeSelected, ++paperCounter);\n    } else {\n      props.onAdd(typeSelected, ++ebookCounter);\n    }\n  };\n\n  const optionChangeHandler = (event) => {\n    setTypeSelected(event.target.value);\n  };\n\n  return (\n    <form className={classes.form} onSubmit={submitHandler}>\n      <select\n        value={typeSelected}\n        name=\"booktype\"\n        className={classes.select}\n        onChange={optionChangeHandler}\n      >\n        <option value=\"ebook\">E-book</option>\n        <option value=\"paper\">Paper</option>\n      </select>\n      <Button type=\"submit\" className={classes.item}>\n        + Add\n      </Button>\n    </form>\n  );\n};\n\nexport default BookItemForm;\n","import classes from \"./BookDetails.module.css\";\nimport Backdrop from \"../UI/Backdrop\";\nimport React from \"react\";\nimport Button from \"../UI/Button\";\n\nconst BookDetails = (props) => {\n  return (\n    <React.Fragment>\n      <div className={classes.detailsmodal}>\n        <div className={classes.details}>\n          <h1>{props.name}</h1>\n          {props.details}\n        </div>\n        <Button className={classes.btn} onClick={props.onClose}>\n          OK\n        </Button>\n      </div>\n      <Backdrop onClick={props.onClose} />\n    </React.Fragment>\n  );\n};\n\nexport default BookDetails;\n","import { useContext, useEffect } from \"react\";\nimport CartContext from \"../../store/cart-context\";\nimport classes from \"./BookItem.module.css\";\nimport BookItemForm from \"./BookItemForm\";\nimport { useState } from \"react\";\nimport BookDetails from \"./BookDetails\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uiActions } from \"../../redux-store/ui-slice\";\n\nconst BookItem = (props) => {\n  const dispatch = useDispatch();\n  const currentUser = useSelector((state) => state.auth.currentUser);\n\n  const cartCtx = useContext(CartContext);\n  const [formStatus, setFormStatus] = useState(false);\n  const [detailsStatus, setDetailsStatus] = useState(false);\n\n  const nameClasses = `${classes.name} ${formStatus ? classes.shake : ``}`;\n\n  const addItemHandler = (type, amount) => {\n    if (currentUser) {\n      cartCtx.addItem({\n        id: `${props.id}_${type}`,\n        name: props.name,\n        price: props.price,\n        type: type,\n        amount: amount,\n      });\n      setFormStatus(true);\n    } else {\n      dispatch(\n        uiActions.setNotification({\n          status: \"error\",\n          message: \"Please log in!\",\n        })\n      );\n      dispatch(uiActions.setPopup(true));\n    }\n  };\n\n  const closeMoreinfoHandler = () => {\n    setDetailsStatus(false);\n  };\n\n  const clickMoreinfoHandler = () => {\n    setDetailsStatus(true);\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setFormStatus(false);\n    }, 300);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [formStatus]);\n\n  return (\n    <li className={classes.book}>\n      <h1 className={nameClasses}>{props.name}</h1>\n      <div className={classes.price}>${props.price.toFixed(2)}</div>\n      <div className={classes.moreinfo} onClick={clickMoreinfoHandler}>\n        more info\n      </div>\n      {detailsStatus && (\n        <BookDetails\n          name={props.name}\n          details={props.details}\n          onClose={closeMoreinfoHandler}\n        />\n      )}\n      <div>\n        <BookItemForm\n          id={props.id}\n          onAdd={addItemHandler}\n          formStatus={formStatus}\n        />\n      </div>\n    </li>\n  );\n};\n\nexport default BookItem;\n","import classes from \"./Books.module.css\";\nimport Card from \"../UI/Card\";\n\nimport BookItem from \"./BookItem\";\nimport React, { useState, useEffect } from \"react\";\n\nimport { CircularProgress } from \"@material-ui/core\";\n\nimport { firestore } from \"../../firebase/utils\";\n\nconst Books = () => {\n  const [searchTitle, setSearchTitle] = useState(\"\");\n  const [allBooks, setAllBooks] = useState([]);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  useEffect(() => {\n    const fetchAllBooks = async () => {\n      try {\n        await firestore\n          .collection(\"books\")\n          .get()\n          .then((snapshot) => {\n            if (snapshot.metadata.fromCache) {\n              throw new Error();\n            }\n            const allBooks = snapshot.docs.map((doc) => {\n              return {\n                ...doc.data(),\n                id: doc.id,\n              };\n            });\n            setAllBooks(allBooks);\n          });\n      } catch (err) {\n        console.log(err);\n        setErrorMsg(\n          \"Something went wrong. Please check Your internet connection or try again later.\"\n        );\n      }\n    };\n\n    fetchAllBooks();\n  }, []);\n\n  const booksList = allBooks\n    .filter((item) => {\n      if (searchTitle === \"\") {\n        return item;\n      } else if (item.name.toLowerCase().includes(searchTitle.toLowerCase())) {\n        return item;\n      }\n      return false;\n    })\n    .map((book) => (\n      <BookItem\n        key={book.id}\n        id={book.id}\n        name={book.name}\n        price={book.price}\n        details={book.details}\n      />\n    ));\n\n  const titleChangeHandler = (event) => {\n    setSearchTitle(event.target.value);\n  };\n\n  return (\n    <Card>\n      <div className={classes.searchheader}>\n        <input\n          placeholder=\"Search title...\"\n          type=\"text\"\n          onChange={titleChangeHandler}\n          className={classes.titlesearchbar}\n          maxLength=\"20\"\n        />\n      </div>\n      <div className={classes.scroll}>\n        {allBooks.length > 0 ? (\n          <ul>{booksList}</ul>\n        ) : (\n          <React.Fragment>\n            {errorMsg !== \"\" && <h3 className={classes.error}>{errorMsg}</h3>}\n            {errorMsg === \"\" && (\n              <div\n                style={{\n                  position: \"fixed\",\n                  left: \"calc(50% - 2rem)\",\n                  top: \"calc(50% - 0.5rem)\",\n                }}\n              >\n                <CircularProgress size={\"4rem\"} color={\"secondary\"} />\n              </div>\n            )}\n          </React.Fragment>\n        )}\n      </div>\n    </Card>\n  );\n};\n\nexport default Books;\n","import Books from \"../components/Books/Books\";\n\nconst Mainpage = () => {\n  return <Books />;\n};\n\nexport default Mainpage;\n","import { authActions } from \"./auth-slice\";\nimport { uiActions } from \"./ui-slice\";\n\nimport { auth, handleNewProfile, signInWithGoogle } from \"../firebase/utils\";\n\nconst showPopup = (dispatch) => {\n  dispatch(uiActions.setPopup(true));\n  dispatch(uiActions.showSpinner(false));\n};\n\nconst setPopupData = (dispatch, status, message) => {\n  dispatch(\n    uiActions.setNotification({\n      status: status,\n      message: message,\n    })\n  );\n};\n\nexport const loginUser = (email, password) => {\n  return async (dispatch) => {\n    try {\n      dispatch(uiActions.showSpinner(true));\n      await auth.signInWithEmailAndPassword(email, password);\n      dispatch(authActions.setLoginSuccess(true));\n      setPopupData(dispatch, \"success\", \"Logged in!\");\n    } catch (error) {\n      console.log(error.message);\n      setPopupData(dispatch, \"error\", \"Failed to login!\");\n    }\n    dispatch(authActions.setLoginSuccess(false));\n    showPopup(dispatch);\n  };\n};\n\nexport const loginWithGoogleUser = () => {\n  return async (dispatch) => {\n    try {\n      dispatch(uiActions.showSpinner(true));\n      await signInWithGoogle();\n      dispatch(authActions.setLoginSuccess(true));\n      setPopupData(dispatch, \"success\", \"Logged in!\");\n    } catch (error) {\n      console.log(error.message);\n      setPopupData(dispatch, \"error\", \"Failed to login!\");\n    }\n    dispatch(authActions.setLoginSuccess(false));\n    showPopup(dispatch);\n  };\n};\n\nexport const registerUser = (email, password, name) => {\n  return async (dispatch) => {\n    try {\n      dispatch(uiActions.showSpinner(true));\n      const { user } = await auth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n      await handleNewProfile(user, { displayName: name });\n      dispatch(authActions.setRegisterSuccess(true));\n      setPopupData(dispatch, \"success\", \"Registered!\");\n    } catch (error) {\n      console.log(error.message);\n      setPopupData(dispatch, \"error\", \"Failed to register!\");\n    }\n    dispatch(authActions.setRegisterSuccess(false));\n    showPopup(dispatch);\n  };\n};\n\nexport const resetPassword = (email) => {\n  return async (dispatch) => {\n    try {\n      dispatch(uiActions.showSpinner(true));\n      const resetCfg = {\n        url: \"http://localhost:3000/login\", //send user after reset password\n      };\n\n      await auth.sendPasswordResetEmail(email, resetCfg);\n      setPopupData(dispatch, \"success\", \"Password reset!\");\n      dispatch(authActions.setResetPasswordSuccess(true));\n    } catch (error) {\n      console.log(error);\n      setPopupData(dispatch, \"error\", \"Failed to reset password!\");\n    }\n    dispatch(authActions.setResetPasswordSuccess(false));\n    showPopup(dispatch);\n  };\n};\n","import classes from \"./InputWrap.module.css\";\n\nconst InputWrap = (props) => {\n  const inputClasses = props.hasError\n    ? `${classes[\"form-control\"]} ${classes[\"invalid\"]}`\n    : classes[\"form-control\"];\n\n  return (\n    <div className={`${props.className} ${inputClasses} `}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default InputWrap;\n","import classes from \"./Caption.module.css\";\n\nconst Caption = (props) => {\n  return (\n    <h1 className={`${props.className} ${classes.caption} `}>\n      {props.children}\n    </h1>\n  );\n};\n\nexport default Caption;\n","export default __webpack_public_path__ + \"static/media/background_books_image.3a124e66.jpg\";","import booksImage from \"../../assets/background_books_image.jpg\";\nimport classes from \"./BackgroundImage.module.css\";\n\nconst BackgroundImage = () => {\n  return (\n    <div className={classes[\"main-image\"]}>\n      <img src={booksImage} alt=\"books\" />\n    </div>\n  );\n};\n\nexport default BackgroundImage;\n","import React from \"react\";\n\nimport Backdrop from \"./Backdrop\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport BackgroundImage from \"./BackgroundImage\";\n\nconst LoadingScreen = () => {\n  return (\n    <React.Fragment>\n      <Backdrop />\n      <div\n        style={{\n          position: \"fixed\",\n          left: \"calc(50% - 2rem)\",\n          top: \"calc(50% - 2rem)\",\n        }}\n      >\n        <CircularProgress size={\"4rem\"} color={\"secondary\"} />\n      </div>\n      <BackgroundImage />\n    </React.Fragment>\n  );\n};\n\nexport default LoadingScreen;\n","import { useReducer } from \"react\";\n\nconst initialInputState = {\n  value: \"\",\n  isTouched: false,\n};\n\nconst inputStateReducer = (state, action) => {\n  if (action.type === \"INPUT\") {\n    return { value: action.value, isTouched: state.isTouched };\n  }\n  if (action.type === \"BLUR\") {\n    return { isTouched: true, value: state.value };\n  }\n  if (action.type === \"RESET\") {\n    return { isTouched: false, value: \"\" };\n  }\n  return inputStateReducer;\n};\n\nconst useInput = (validateValue) => {\n  const [inputState, dispatch] = useReducer(\n    inputStateReducer,\n    initialInputState\n  );\n\n  const valueIsValid = validateValue(inputState.value);\n  const hasError = !valueIsValid && inputState.isTouched;\n\n  const valueChangeHandler = (event) => {\n    dispatch({ type: \"INPUT\", value: event.target.value });\n  };\n\n  const inputBlurHandler = (event) => {\n    dispatch({ type: \"BLUR\" });\n  };\n\n  const reset = () => {\n    dispatch({ type: \"RESET\" });\n  };\n\n  return {\n    value: inputState.value,\n    hasError,\n    valueChangeHandler,\n    inputBlurHandler,\n    isValid: valueIsValid,\n    reset,\n  };\n};\n\nexport default useInput;\n\nexport const validateEmail = (value) => {\n  //eslint-disable-next-line\n  if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexport const validatePassword = (value) => {\n  //eslint-disable-next-line\n  if (/(?=.*[0-9a-zA-Z]).{6,}/.test(value)) {\n    return true;\n  } else {\n    return false;\n  }\n};\n","import React, { useEffect, useCallback } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { registerUser } from \"../../redux-store/auth-actions\";\n\nimport classes from \"./SignUp.module.css\";\nimport Card from \"../UI/Card\";\nimport Button from \"../UI/Button\";\nimport InputWrap from \"../UI/forms/InputWrap\";\nimport Caption from \"../UI/Caption\";\nimport LoadingScreen from \"../UI/LoadingScreen\";\n\nimport useInput from \"../../hooks/use-input\";\nimport { validateEmail } from \"../../hooks/use-input\";\nimport { validatePassword } from \"../../hooks/use-input\";\n\nconst Login = (props) => {\n  const registerSuccess = useSelector((state) => state.auth.registerSuccess);\n  const spinnerVisible = useSelector((state) => state.ui.spinner);\n  const dispatch = useDispatch();\n\n  const { history } = props;\n\n  const {\n    value: nameValue,\n    isValid: nameIsValid,\n    hasError: nameHasError,\n    valueChangeHandler: nameChangeHandler,\n    inputBlurHandler: nameBlurHandler,\n    reset: resetName,\n  } = useInput((value) => value.trim() !== \"\");\n  const {\n    value: mailValue,\n    isValid: mailIsValid,\n    hasError: mailHasError,\n    valueChangeHandler: mailChangeHandler,\n    inputBlurHandler: mailBlurHandler,\n    reset: resetMail,\n  } = useInput((value) => validateEmail(value));\n  const {\n    value: passwordValue,\n    isValid: passwordIsValid,\n    hasError: passwordHasError,\n    valueChangeHandler: passwordChangeHandler,\n    inputBlurHandler: passwordBlurHandler,\n    reset: resetPassword,\n  } = useInput((value) => validatePassword(value));\n  const {\n    value: confirmPasswordValue,\n    isValid: confirmPasswordIsValid,\n    hasError: confirmPasswordHasError,\n    valueChangeHandler: confirmPasswordChangeHandler,\n    inputBlurHandler: confirmPasswordBlurHandler,\n    reset: resetconfirmPassword,\n  } = useInput((value) => value === passwordValue && value !== \"\");\n\n  let formIsValid = false;\n\n  if (nameIsValid && mailIsValid && passwordIsValid && confirmPasswordIsValid) {\n    formIsValid = true;\n  }\n\n  const resetForm = useCallback(() => {\n    resetName();\n    resetMail();\n    resetPassword();\n    resetconfirmPassword();\n  }, [resetName, resetMail, resetPassword, resetconfirmPassword]);\n\n  useEffect(() => {\n    if (registerSuccess) {\n      history.push(\"/\");\n      resetForm();\n    }\n  }, [registerSuccess, resetForm, history]);\n\n  const submitHandler = async (event) => {\n    event.preventDefault();\n\n    if (formIsValid) {\n      dispatch(registerUser(mailValue, passwordValue, nameValue));\n    }\n  };\n\n  return (\n    <React.Fragment>\n      {spinnerVisible ? (\n        <LoadingScreen />\n      ) : (\n        <Card className={classes.mainwrap}>\n          <div className={classes.scroll}>\n            <Caption>Register</Caption>\n            <form onSubmit={submitHandler}>\n              <InputWrap hasError={nameHasError}>\n                <label htmlFor=\"name\">Name</label>\n                <input\n                  type=\"text\"\n                  id=\"name\"\n                  value={nameValue}\n                  onChange={nameChangeHandler}\n                  onBlur={nameBlurHandler}\n                />\n                {nameHasError && <p>Please enter Your name</p>}\n              </InputWrap>\n              <InputWrap hasError={mailHasError}>\n                <label htmlFor=\"email\">Email</label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  value={mailValue}\n                  onChange={mailChangeHandler}\n                  onBlur={mailBlurHandler}\n                />\n                {mailHasError && <p>Please enter valid e-mail</p>}\n              </InputWrap>\n              <InputWrap hasError={passwordHasError}>\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  type=\"password\"\n                  id=\"password\"\n                  value={passwordValue}\n                  onChange={passwordChangeHandler}\n                  onBlur={passwordBlurHandler}\n                />\n                {passwordHasError && (\n                  <p>Password must have at least 6 characters</p>\n                )}\n              </InputWrap>\n              <InputWrap hasError={confirmPasswordHasError}>\n                <label htmlFor=\"confirm-password\">Confirm password</label>\n                <input\n                  type=\"password\"\n                  id=\"confirm-password\"\n                  value={confirmPasswordValue}\n                  onChange={confirmPasswordChangeHandler}\n                  onBlur={confirmPasswordBlurHandler}\n                />\n                {confirmPasswordHasError && <p>Passwords do not match</p>}\n              </InputWrap>\n              <Button\n                className={classes.btn}\n                disabled={!formIsValid}\n                type=\"submit\"\n              >\n                Register\n              </Button>\n            </form>\n          </div>\n        </Card>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(Login);\n","import SignUp from \"../components/Authentication/SignUp\";\n\nconst Register = () => {\n  return <SignUp />;\n};\n\nexport default Register;\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport classes from \"./SignIn.module.css\";\nimport Card from \"../UI/Card\";\nimport Button from \"../UI/Button\";\nimport InputWrap from \"../UI/forms/InputWrap\";\nimport Caption from \"../UI/Caption\";\nimport LoadingScreen from \"../UI/LoadingScreen\";\n\nimport { loginUser, loginWithGoogleUser } from \"../../redux-store/auth-actions\";\n\nconst Login = (props) => {\n  const loginSuccess = useSelector((state) => state.auth.loginSuccess);\n  const spinnerVisible = useSelector((state) => state.ui.spinner);\n  const dispatch = useDispatch();\n\n  const [mail, setMail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const { history } = props;\n\n  const resetForm = () => {\n    setMail(\"\");\n    setPassword(\"\");\n  };\n\n  useEffect(() => {\n    if (loginSuccess) {\n      history.push(\"/\");\n      resetForm();\n    }\n  }, [loginSuccess, history]);\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    if (mail.length > 0 && password.length > 0) {\n      dispatch(loginUser(mail, password));\n    }\n  };\n\n  const mailChangeHandler = (event) => {\n    setMail(event.target.value);\n  };\n\n  const passwordChangeHandler = (event) => {\n    setPassword(event.target.value);\n  };\n\n  const signInWithGoogleHandler = () => {\n    dispatch(loginWithGoogleUser());\n  };\n\n  return (\n    <React.Fragment>\n      {spinnerVisible ? (\n        <LoadingScreen />\n      ) : (\n        <Card className={classes.mainwrap}>\n          <div className={classes.scroll}>\n            <Caption>Login</Caption>\n            <form onSubmit={submitHandler}>\n              <InputWrap>\n                <label htmlFor=\"email\">Email</label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  value={mail}\n                  onChange={mailChangeHandler}\n                />\n              </InputWrap>\n              <InputWrap>\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  type=\"password\"\n                  id=\"password\"\n                  value={password}\n                  onChange={passwordChangeHandler}\n                />\n              </InputWrap>\n              <div className={classes.resetWrap}>\n                <Link to=\"/resetPassword\">\n                  <p className={classes.reset}>Lost password?</p>\n                </Link>\n              </div>\n              <Button className={classes.btn} type=\"submit\">\n                Login\n              </Button>\n            </form>\n            <Button\n              className={classes.btnGoogle}\n              onClick={signInWithGoogleHandler}\n            >\n              Sign in with Google\n            </Button>\n          </div>\n        </Card>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(Login);\n","import SignIn from \"../components/Authentication/SignIn\";\n\nconst Login = () => {\n  return <SignIn />;\n};\n\nexport default Login;\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport classes from \"./PasswordRecovery.module.css\";\n\nimport Card from \"../UI/Card\";\nimport Button from \"../UI/Button\";\nimport Caption from \"../UI/Caption\";\nimport InputWrap from \"../UI/forms/InputWrap\";\nimport LoadingScreen from \"../UI/LoadingScreen\";\n\nimport { validateEmail } from \"../../hooks/use-input\";\n\nimport { resetPassword } from \"../../redux-store/auth-actions\";\n\nconst PasswordRecovery = (props) => {\n  const dispatch = useDispatch();\n  const resetPasswordSuccess = useSelector(\n    (state) => state.auth.resetPasswordSuccess\n  );\n  const spinnerVisible = useSelector((state) => state.ui.spinner);\n\n  const [mail, setMail] = useState(\"\");\n\n  const { history } = props;\n\n  const mailChangeHandler = (event) => {\n    setMail(event.target.value);\n  };\n\n  useEffect(() => {\n    if (resetPasswordSuccess) {\n      history.push(\"/login\");\n      setMail(\"\");\n    }\n  }, [resetPasswordSuccess, history]);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    if (validateEmail(mail)) {\n      dispatch(resetPassword(mail));\n    }\n  };\n\n  return (\n    <React.Fragment>\n      {spinnerVisible ? (\n        <LoadingScreen />\n      ) : (\n        <Card className={classes.mainwrap}>\n          <div className={classes.scroll}>\n            <Caption>Reset password</Caption>\n            <form onSubmit={handleFormSubmit}>\n              <InputWrap>\n                <label htmlFor=\"email\">Email</label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  value={mail}\n                  onChange={mailChangeHandler}\n                />\n                <Button className={classes.btn} type=\"submit\">\n                  Recover\n                </Button>\n              </InputWrap>\n            </form>\n          </div>\n        </Card>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(PasswordRecovery);\n","import PasswordRecovery from \"../components/Authentication/PasswordRecovery\";\n\nconst PasswordReset = () => {\n  return <PasswordRecovery />;\n};\n\nexport default PasswordReset;\n","import classes from \"./Table.module.css\";\n\nconst Table = (props) => {\n  return (\n    <table className={`${props.className} ${classes.table} `}>\n      {props.children}\n    </table>\n  );\n};\n\nexport default Table;\n","import classes from \"./TableHeader.module.css\";\n\nconst TableHeader = (props) => {\n  return (\n    <tr className={`${props.className} ${classes.tableheader} `}>\n      {props.children}\n    </tr>\n  );\n};\n\nexport default TableHeader;\n","import classes from \"./TableRow.module.css\";\n\nconst TableRow = (props) => {\n  return (\n    <tr\n      className={`${props.className} ${classes.tablerow} `}\n      onClick={props.onClick}\n    >\n      {props.children}\n    </tr>\n  );\n};\n\nexport default TableRow;\n","import { withRouter } from \"react-router-dom\";\nimport classes from \"./OrderItem.module.css\";\n\nimport TableRow from \"../UI/TableRow\";\n\nconst OrderItem = (props) => {\n  const orderDate = new Date(+props.id);\n\n  const [month, day, year] = [\n    orderDate.getMonth() + 1,\n    orderDate.getDate(),\n    orderDate.getFullYear(),\n  ];\n\n  const stringDay = day < 10 ? \"0\" + day : \"\" + day;\n  const stringMonth = month < 10 ? \"0\" + month : \"\" + month;\n\n  const orderDateString = `${stringDay}-${stringMonth}-${year}`;\n\n  const { history } = props;\n\n  const tableRowClickHandler = () => {\n    history.push({\n      pathname: `/orders/${props.id}`,\n    });\n  };\n\n  return (\n    <TableRow onClick={tableRowClickHandler} className={classes.orderitem}>\n      <td>{orderDateString}</td>\n      <td>{props.orderQuantity}</td>\n      <td>{`$${props.totalAmount.toFixed(2)}`}</td>\n    </TableRow>\n  );\n};\n\nexport default withRouter(OrderItem);\n","import React, { useEffect, useState } from \"react\";\n\nimport { CircularProgress } from \"@material-ui/core\";\n\nimport { firestore } from \"../../firebase/utils\";\n\nimport Card from \"../UI/Card\";\nimport classes from \"./Orders.module.css\";\nimport Caption from \"../UI/Caption\";\nimport Table from \"../UI/Table\";\nimport TableHeader from \"../UI/TableHeader\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uiActions } from \"../../redux-store/ui-slice\";\n\nimport OrderItem from \"./OrderItem\";\n\nconst Orders = () => {\n  const dispatch = useDispatch();\n  const orderListRender = useSelector((state) => state.ui.orderListRender);\n  const currentUser = useSelector((state) => state.auth.currentUser);\n\n  const [allOrders, setAllOrders] = useState([]);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  const { id } = currentUser;\n\n  useEffect(() => {\n    const fetchAllBooks = async () => {\n      if (orderListRender) {\n        try {\n          await firestore\n            .collection(\"userdata\")\n            .doc(id)\n            .collection(\"userorders\")\n            .get()\n            .then((snapshot) => {\n              if (snapshot.metadata.fromCache) {\n                throw new Error(\"no internet\");\n              }\n              if (snapshot.empty) {\n                throw new Error(\"no orders\");\n              }\n              const allOrders = snapshot.docs.map((doc) => {\n                const cartData = JSON.parse(doc.data().cartData);\n                return {\n                  cartData,\n                  id: doc.id,\n                };\n              });\n              setAllOrders(allOrders);\n            });\n        } catch (err) {\n          if (err.message === \"no internet\") {\n            setErrorMsg(\n              \"Something went wrong. Please check Your internet connection or try again later.\"\n            );\n          }\n          if (err.message === \"no orders\") {\n            setErrorMsg(\"No order has been made yet!\");\n          }\n        }\n      }\n    };\n\n    fetchAllBooks();\n    dispatch(uiActions.setOrderListRender(true));\n  }, [dispatch, orderListRender, id]);\n\n  const orderList = allOrders.map((order) => (\n    <OrderItem\n      key={order.id}\n      id={order.id}\n      totalAmount={order.cartData.totalAmount}\n      orderQuantity={order.cartData.items.length}\n    />\n  ));\n\n  return (\n    <Card>\n      <div className={classes.scroll}>\n        <Caption>order history</Caption>\n        {allOrders.length > 0 ? (\n          <Table>\n            <tbody>\n              <TableHeader>\n                <th>Date</th>\n                <th>Amount</th>\n                <th>Price</th>\n              </TableHeader>\n              {orderList}\n            </tbody>\n          </Table>\n        ) : (\n          <React.Fragment>\n            {errorMsg !== \"\" && <h3 className={classes.error}>{errorMsg}</h3>}\n            {errorMsg === \"\" && (\n              <div\n                style={{\n                  position: \"fixed\",\n                  left: \"calc(50% - 2rem)\",\n                  top: \"calc(50% - 0.5rem)\",\n                }}\n              >\n                <CircularProgress size={\"4rem\"} color={\"secondary\"} />\n              </div>\n            )}\n          </React.Fragment>\n        )}\n      </div>\n    </Card>\n  );\n};\n\nexport default Orders;\n","import Orders from \"../components/Orders/Orders\";\n\nconst Orderspage = () => {\n  return <Orders />;\n};\n\nexport default Orderspage;\n","import TableRow from \"../UI/TableRow\";\n\nconst OrderDetailsItem = (props) => {\n  return (\n    <TableRow>\n      <td>\n        \"{props.name}\" - in {props.type}\n      </td>\n      <td>{`$${props.price.toFixed(2)}`}</td>\n      <td>{props.amount}</td>\n    </TableRow>\n  );\n};\n\nexport default OrderDetailsItem;\n","import React, { useEffect, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { CircularProgress } from \"@material-ui/core\";\n\nimport { firestore } from \"../../firebase/utils\";\n\nimport Card from \"../UI/Card\";\nimport classes from \"./OrderDetails.module.css\";\nimport Caption from \"../UI/Caption\";\nimport Table from \"../UI/Table\";\nimport TableHeader from \"../UI/TableHeader\";\nimport TableRow from \"../UI/TableRow\";\n\nimport OrderDetailsItem from \"./OrderDetailsItem\";\n\nimport { useSelector } from \"react-redux\";\n\nconst OrdersDetails = (props) => {\n  const currentUser = useSelector((state) => state.auth.currentUser);\n\n  const [orderDetails, setOrderDetails] = useState([]);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  const { id } = currentUser;\n  const orderId = props.location.pathname.substring(\n    props.location.pathname.lastIndexOf(\"/\") + 1\n  );\n\n  useEffect(() => {\n    const fetchOrderDetails = async () => {\n      try {\n        await firestore\n          .collection(\"userdata\")\n          .doc(id)\n          .collection(\"userorders\")\n          .get()\n          .then((snapshot) => {\n            if (snapshot.metadata.fromCache) {\n              throw new Error(\"no internet\");\n            }\n            let cartData;\n            snapshot.docs.forEach((doc) => {\n              if (doc.id === orderId) {\n                cartData = JSON.parse(doc.data().cartData);\n                setOrderDetails(cartData);\n              }\n            });\n            if (!cartData) {\n              throw new Error(\"no orders\");\n            }\n          });\n      } catch (err) {\n        if (err.message === \"no internet\") {\n          setErrorMsg(\n            \"Something went wrong. Please check Your internet connection or try again later.\"\n          );\n        }\n        if (err.message === \"no orders\") {\n          setErrorMsg(\"No order has been made yet!\");\n        }\n      }\n    };\n\n    fetchOrderDetails();\n  }, [id, orderId]);\n\n  const orderedItems = orderDetails.items\n    ? orderDetails.items.map((item) => (\n        <OrderDetailsItem\n          key={item.id}\n          name={item.name}\n          price={item.price}\n          type={item.type}\n          amount={item.amount}\n        />\n      ))\n    : [];\n\n  return (\n    <Card>\n      <div className={classes.scroll}>\n        <Caption>order details</Caption>\n        {orderedItems.length > 0 ? (\n          <Table>\n            <tbody>\n              <TableHeader>\n                <th>Name</th>\n                <th>Price</th>\n                <th>Amount</th>\n              </TableHeader>\n              {orderedItems}\n              <TableRow className={classes.finalrow}>\n                <td></td>\n                <td className={classes.totalAmount}>\n                  ${orderDetails.totalAmount.toFixed(2)}\n                </td>\n                <td></td>\n              </TableRow>\n            </tbody>\n          </Table>\n        ) : (\n          <React.Fragment>\n            {errorMsg !== \"\" && <h3 className={classes.error}>{errorMsg}</h3>}\n            {errorMsg === \"\" && (\n              <div\n                style={{\n                  position: \"fixed\",\n                  left: \"calc(50% - 2rem)\",\n                  top: \"calc(50% - 0.5rem)\",\n                }}\n              >\n                <CircularProgress size={\"4rem\"} color={\"secondary\"} />\n              </div>\n            )}\n          </React.Fragment>\n        )}\n      </div>\n    </Card>\n  );\n};\n\nexport default withRouter(OrdersDetails);\n","import OrderDetails from \"../components/Orders/OrderDetails\";\n\nconst OrderDetailspage = () => {\n  return <OrderDetails />;\n};\n\nexport default OrderDetailspage;\n","import classes from \"./NavButton.module.css\";\n\nconst NavButton = (props) => {\n  return (\n    <button\n      type={props.type || \"button\"}\n      className={`${props.className} ${classes.button} `}\n      onClick={props.onClick}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default NavButton;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { NavLink } from \"react-router-dom\";\n\nimport NavButton from \"../UI/NavButton\";\n\nimport { auth } from \"../../firebase/utils\";\n\nimport classes from \"./NavLinks.module.css\";\n\nimport { useDispatch } from \"react-redux\";\nimport { uiActions } from \"../../redux-store/ui-slice\";\n\nconst NavLinks = (props) => {\n  const currentUser = useSelector((state) => state.auth.currentUser);\n  const dispatch = useDispatch();\n\n  const logoutHandler = () => {\n    auth.signOut();\n  };\n\n  const clickNavBtnHandler = () => {\n    dispatch(uiActions.setMobileNavMenu(false));\n  };\n\n  return (\n    <React.Fragment>\n      {!currentUser && (\n        <React.Fragment>\n          <NavLink\n            to=\"/register\"\n            activeClassName={classes.active}\n            onClick={clickNavBtnHandler}\n          >\n            <NavButton className={classes.navbtn}>Register</NavButton>\n          </NavLink>\n          <NavLink\n            to=\"/login\"\n            activeClassName={classes.active}\n            onClick={clickNavBtnHandler}\n          >\n            <NavButton className={classes.navbtn}>Login</NavButton>\n          </NavLink>\n        </React.Fragment>\n      )}\n      {currentUser && (\n        <React.Fragment>\n          <NavButton\n            className={classes.navbtn}\n            onClick={() => {\n              logoutHandler();\n              clickNavBtnHandler();\n            }}\n          >\n            Logout\n          </NavButton>\n          <NavLink\n            to=\"/orders\"\n            activeClassName={classes.active}\n            onClick={clickNavBtnHandler}\n          >\n            <NavButton className={classes.navbtn}>Orders</NavButton>\n          </NavLink>\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default NavLinks;\n","import React from \"react\";\n\nimport classes from \"./Navigation.module.css\";\n\nimport NavLinks from \"./NavLinks\";\n\nconst Navigation = () => {\n  return (\n    <div className={classes.navigation}>\n      <NavLinks />\n    </div>\n  );\n};\n\nexport default Navigation;\n","import React from \"react\";\n\nimport classes from \"./MobileNavigation.module.css\";\n\nimport NavLinks from \"./NavLinks\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nimport ReactDOM from \"react-dom\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uiActions } from \"../../redux-store/ui-slice\";\n\nconst MobileNavigation = () => {\n  const dispatch = useDispatch();\n  const mobileNavMenu = useSelector((state) => state.ui.mobileNavMenu);\n\n  const openMenuBtnHandler = () => {\n    dispatch(uiActions.setMobileNavMenu(true));\n  };\n\n  const closeMenuBtnHandler = () => {\n    dispatch(uiActions.setMobileNavMenu(false));\n  };\n\n  return (\n    <React.Fragment>\n      {!mobileNavMenu && (\n        <div className={classes.menu}>\n          <MenuIcon fontSize=\"large\" onClick={openMenuBtnHandler} />\n        </div>\n      )}\n      {mobileNavMenu && (\n        <div className={classes.menu}>\n          <CloseIcon fontSize=\"large\" onClick={closeMenuBtnHandler} />\n        </div>\n      )}\n      {ReactDOM.createPortal(\n        <div className={classes.mobileNav}>\n          {mobileNavMenu && (\n            <div className={classes.popupMenu}>\n              <NavLinks />\n            </div>\n          )}\n        </div>,\n        document.getElementById(\"overlay\")\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default MobileNavigation;\n","import ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport { Badge } from \"@material-ui/core\";\n\nimport { useContext, useState, useEffect } from \"react\";\nimport CartContext from \"../../store/cart-context\";\nimport classes from \"./HeaderBtn.module.css\";\n\nconst HeaderBtn = (props) => {\n  const cartCtx = useContext(CartContext);\n  const [btnEffectStatus, setBtnEffectStatus] = useState(false);\n\n  const numberOfItemsInCart = cartCtx.items.reduce((curNr, item) => {\n    return curNr + item.amount;\n  }, 0);\n\n  const iconCartStyle = `${classes.icon} ${\n    btnEffectStatus ? classes.bump : \"\"\n  }`;\n\n  useEffect(() => {\n    if (numberOfItemsInCart === 0) {\n      return;\n    }\n    setBtnEffectStatus(true);\n\n    const timer = setTimeout(() => {\n      setBtnEffectStatus(false);\n    }, 300);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [cartCtx.items, numberOfItemsInCart]);\n\n  return (\n    <Badge\n      showZero\n      badgeContent={numberOfItemsInCart}\n      color=\"primary\"\n      onClick={props.onClick}\n      className={classes.cart}\n    >\n      <ShoppingCartIcon fontSize=\"large\" className={iconCartStyle} />\n    </Badge>\n  );\n};\n\nexport default HeaderBtn;\n","import React from \"react\";\n\nimport { useSelector } from \"react-redux\";\n\nimport classes from \"./Header.module.css\";\nimport BackgroundImage from \"../UI/BackgroundImage\";\n\nimport { Link } from \"react-router-dom\";\n\nimport Navigation from \"./Navigation\";\nimport MobileNavigation from \"./MobileNavigation\";\n\nimport HeaderBtn from \"./HeaderBtn\";\n\nimport { useDispatch } from \"react-redux\";\nimport { uiActions } from \"../../redux-store/ui-slice\";\n\nconst Header = (props) => {\n  const currentUser = useSelector((state) => state.auth.currentUser);\n  const dispatch = useDispatch();\n\n  const clickHeaderCaptionHandler = () => {\n    dispatch(uiActions.setMobileNavMenu(false));\n  };\n\n  return (\n    <React.Fragment>\n      <header className={classes.header}>\n        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n          <h1\n            onClick={clickHeaderCaptionHandler}\n          >\n            Bookshop\n          </h1>\n        </Link>\n        <div className={classes.navlinks}>\n          <Navigation />\n          <MobileNavigation />\n          {currentUser && <HeaderBtn onClick={props.onOpen} />}\n        </div>\n      </header>\n      <BackgroundImage />\n    </React.Fragment>\n  );\n};\n\nexport default Header;\n","import { useReducer } from \"react\";\nimport CartContext from \"./cart-context\";\n\nconst defaultCartState =\n  localStorage.getItem(\"cart\") === null\n    ? {\n        items: [],\n        totalAmount: 0,\n      }\n    : JSON.parse(localStorage.getItem(\"cart\"));\n\nconst cartReducer = (state, action) => {\n  if (action.type === \"ADD\") {\n    const updatedTotalAmount = state.totalAmount + action.item.price;\n    let updatedItems;\n    const exisitingCartItemIndex = state.items.findIndex(\n      (item) => item.id === action.item.id\n    );\n    const existingCartItem = state.items[exisitingCartItemIndex];\n\n    if (existingCartItem) {\n      const updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount + 1,\n      };\n      updatedItems = [...state.items];\n      updatedItems[exisitingCartItemIndex] = updatedItem;\n    } else {\n      updatedItems = state.items.concat(action.item);\n    }\n\n    localStorage.setItem(\n      \"cart\",\n      JSON.stringify({\n        items: updatedItems,\n        totalAmount: updatedTotalAmount,\n      })\n    );\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount,\n    };\n  }\n\n  if (action.type === \"REMOVE_WHOLE\") {\n    const existingCartItemIndex = state.items.findIndex(\n      (item) => item.id === action.id\n    );\n    const existingCartItem = state.items[existingCartItemIndex];\n    let updatedTotalAmount =\n      state.totalAmount - existingCartItem.price * existingCartItem.amount;\n    updatedTotalAmount = updatedTotalAmount < 0 ? 0 : updatedTotalAmount;\n    const updatedItems = state.items.filter((item) => item.id !== action.id);\n\n    localStorage.setItem(\n      \"cart\",\n      JSON.stringify({\n        items: updatedItems,\n        totalAmount: updatedTotalAmount,\n      })\n    );\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount,\n    };\n  }\n\n  if (action.type === \"REMOVE_ONE\") {\n    const existingCartItemIndex = state.items.findIndex(\n      (item) => item.id === action.id\n    );\n    const existingCartItem = state.items[existingCartItemIndex];\n    let updatedTotalAmount = state.totalAmount - existingCartItem.price;\n    updatedTotalAmount = updatedTotalAmount < 0 ? 0 : updatedTotalAmount;\n    let updatedItems;\n\n    if (existingCartItem.amount === 1) {\n      updatedItems = state.items.filter((item) => item.id !== action.id);\n    } else {\n      const updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount - 1,\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    }\n\n    localStorage.setItem(\n      \"cart\",\n      JSON.stringify({\n        items: updatedItems,\n        totalAmount: updatedTotalAmount,\n      })\n    );\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount,\n    };\n  }\n\n  if (action.type === \"CLEAR\") {\n    localStorage.setItem(\n      \"cart\",\n      JSON.stringify({\n        items: [],\n        totalAmount: 0,\n      })\n    );\n    return {\n      items: [],\n      totalAmount: 0,\n    };\n  }\n  return defaultCartState;\n};\n\nconst CartProvider = (props) => {\n  const [cartState, dispatchCartAction] = useReducer(\n    cartReducer,\n    defaultCartState\n  );\n\n  const clearCartHandler = () => {\n    dispatchCartAction({ type: \"CLEAR\" });\n  };\n\n  const addItemToCartHandler = (item) => {\n    dispatchCartAction({ type: \"ADD\", item: item });\n  };\n\n  const removeWholeItemFromCartHandler = (id) => {\n    dispatchCartAction({ type: \"REMOVE_WHOLE\", id: id });\n  };\n\n  const removeOneItemFromCartHandler = (id) => {\n    dispatchCartAction({ type: \"REMOVE_ONE\", id: id });\n  };\n\n  const cartContext = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    clearCart: clearCartHandler,\n    addItem: addItemToCartHandler,\n    removeWholeItem: removeWholeItemFromCartHandler,\n    removeOneItem: removeOneItemFromCartHandler,\n  };\n\n  return (\n    <CartContext.Provider value={cartContext}>\n      {props.children}\n    </CartContext.Provider>\n  );\n};\n\nexport default CartProvider;\n","import React, { useEffect, useState } from \"react\";\n\nimport { useSelector } from \"react-redux\";\n\nimport classes from \"./FormSubmissionPopup.module.css\";\n\nconst FormSubmissionPopup = () => {\n  const [popupStatusStyle, setPopupStatusStyle] = useState(\"\");\n\n  const popupVisible = useSelector((state) => state.ui.popup);\n  const notification = useSelector((state) => state.ui.notification);\n\n  const popupStyle = `${classes.notification} ${popupStatusStyle}`;\n\n  useEffect(() => {\n    if (notification) {\n      const notificationStatus = notification.status;\n\n      if (notificationStatus === \"error\") {\n        setPopupStatusStyle(classes.error);\n      }\n      if (notificationStatus === \"success\") {\n        setPopupStatusStyle(classes.success);\n      }\n    }\n  }, [notification]);\n\n  return (\n    <React.Fragment>\n      {popupVisible ? (\n        <div className={popupStyle}>{notification.message}</div>\n      ) : (\n        \"\"\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default FormSubmissionPopup;\n","import React, { Suspense, useState, useEffect } from \"react\";\n\nimport Header from \"../components/Header/Header\";\nimport CartProvider from \"../store/CartProvider\";\n\nimport LoadingScreen from \"../components/UI/LoadingScreen\";\nimport FormSubmissionPopup from \"../components/UI/forms/FormSubmissionPopup\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uiActions } from \"../redux-store/ui-slice\";\n\nconst Cart = React.lazy(() => import(\"../components/Cart/Cart\"));\nconst OrderModal = React.lazy(() => import(\"../components/Cart/OrderModal\"));\n\nconst Mainlayout = (props) => {\n  const [cartVisibility, setCartVisibility] = useState(false);\n  const [orderModalVisibility, setOrderModalVisibility] = useState(false);\n\n  const popupVisible = useSelector((state) => state.ui.popup);\n  const dispatch = useDispatch();\n\n  const openCartHandler = () => {\n    setCartVisibility(true);\n  };\n\n  const hideCartHandler = () => {\n    setCartVisibility(false);\n  };\n\n  const hideOrderModalHandler = () => {\n    setOrderModalVisibility(false);\n  };\n\n  const openOrderModalHandler = () => {\n    setOrderModalVisibility(true);\n  };\n\n  useEffect(() => {\n    if (popupVisible) {\n      const popUpDisabler = setTimeout(() => {\n        dispatch(uiActions.setPopup(false));\n      }, 4000);\n      return () => {\n        return clearTimeout(popUpDisabler);\n      };\n    }\n  }, [popupVisible, dispatch]);\n\n  return (\n    <Suspense fallback={<LoadingScreen />}>\n      <CartProvider>\n        <Header onOpen={openCartHandler} {...props} />\n        <FormSubmissionPopup />\n        {props.children}\n        {cartVisibility && (\n          <Cart\n            onClose={hideCartHandler}\n            onOrderModalToggle={openOrderModalHandler}\n          />\n        )}\n        {orderModalVisibility && <OrderModal onClick={hideOrderModalHandler} />}\n      </CartProvider>\n    </Suspense>\n  );\n};\n\nexport default Mainlayout;\n","import { Route, Redirect } from \"react-router-dom\";\n\nimport Mainlayout from \"../../layouts/Mainlayout\";\n\nconst ShopRoute = ({ currentUser, path, component }) => {\n  return (\n    <Route\n      path={path}\n      render={() =>\n        currentUser ? <Redirect to=\"/\" /> : <Mainlayout>{component}</Mainlayout>\n      }\n    />\n  );\n};\n\nexport default ShopRoute;\n","import React, { useEffect } from \"react\";\nimport { Switch } from \"react-router-dom\";\n\n//redux store\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { authActions } from \"./redux-store/auth-slice\";\n\n//pages\nimport Mainpage from \"./pages/Mainpage\";\nimport Register from \"./pages/Register\";\nimport Login from \"./pages/Login\";\nimport PasswordReset from \"./pages/PasswordReset\";\nimport Orderspage from \"./pages/Orderspage\";\nimport OrderDetailsPage from \"./pages/OrderDetailspage\";\n\nimport { auth, handleNewProfile } from \"./firebase/utils\";\nimport ShopRoute from \"./components/CustomRoutes/ShopRoute\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const currentUser = useSelector((state) => state.auth.currentUser);\n\n  useEffect(() => {\n    const authListener = auth.onAuthStateChanged(async (userAuth) => {\n      if (userAuth) {\n        const userRef = await handleNewProfile(userAuth);\n        userRef.onSnapshot((snapshot) => {\n          dispatch(\n            authActions.setCurrentUser({ id: snapshot.id, ...snapshot.data() })\n          );\n        });\n      } else if (!userAuth) {\n        dispatch(authActions.setCurrentUser(null));\n      }\n    });\n    return () => authListener();\n  }, [dispatch]);\n\n  currentUser\n    ? localStorage.setItem(\n        \"currentUser\",\n        JSON.stringify({\n          currentUser,\n        })\n      )\n    : localStorage.setItem(\"currentUser\", null);\n\n  return (\n    <React.Fragment>\n      <Switch>\n        <ShopRoute\n          currentUser={currentUser}\n          path=\"/register\"\n          component={<Register />}\n        />\n        <ShopRoute\n          currentUser={currentUser}\n          path=\"/login\"\n          component={<Login />}\n        />\n        <ShopRoute\n          currentUser={currentUser}\n          path=\"/resetPassword\"\n          component={<PasswordReset />}\n        />\n        <ShopRoute\n          currentUser={!currentUser}\n          path=\"/orders/:orderId\"\n          component={<OrderDetailsPage />}\n        />\n        <ShopRoute\n          currentUser={!currentUser}\n          path=\"/orders\"\n          component={<Orderspage />}\n        />\n        <ShopRoute currentUser={false} path=\"/\" component={<Mainpage />} /> \n      </Switch>\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\n\nimport authSlice from \"./auth-slice\";\nimport uiSlice from \"./ui-slice\";\n\nconst store = configureStore({\n  reducer: { auth: authSlice.reducer, ui: uiSlice.reducer },\n});\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { HashRouter } from \"react-router-dom\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./redux-store/index\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <HashRouter basename=\"/\">\n        <App />\n      </HashRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst uiSlice = createSlice({\n  name: \"ui\",\n  initialState: {\n    spinner: null,\n    notification: null,\n    popup: false,\n    mobileNavMenu: false,\n    orderListRender: true,\n  },\n  reducers: {\n    showSpinner(state, action) {\n      state.spinner = action.payload;\n    },\n    setNotification(state, action) {\n      state.notification = {\n        status: action.payload.status,\n        message: action.payload.message,\n      };\n    },\n    setPopup(state, action) {\n      state.popup = action.payload;\n    },\n    setMobileNavMenu(state, action) {\n      state.mobileNavMenu = action.payload;\n    },\n    setOrderListRender(state, action) {\n      state.orderListRender = action.payload;\n    },\n  },\n});\n\nexport default uiSlice;\nexport const uiActions = uiSlice.actions;\n","import firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/auth\";\nimport { cfgFirebase } from \"./config\";\n\n//connect to fb:\nfirebase.initializeApp(cfgFirebase);\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\n\nconst GoogleProvider = new firebase.auth.GoogleAuthProvider();\nGoogleProvider.setCustomParameters({ prompt: \"select_account\" });\nexport const signInWithGoogle = () => auth.signInWithPopup(GoogleProvider);\n\n//add new user to db\nexport const handleNewProfile = async (userAuth, additionalData) => {\n  if (!userAuth) return;\n\n  const { uid, displayName, email } = userAuth;\n\n  const userRef = firestore.doc(`users/${uid}`); //\"users\" collection created before in fb database\n  //returns reference document with some build in methods(get/set data)\n\n  const snapshot = await userRef.get(); //object returned with some data about user\n\n  if (!snapshot.exists) {\n    const timestamp = new Date().getTime();\n\n    try {\n      await userRef.set({\n        displayName,\n        email,\n        createdDate: timestamp,\n        ...additionalData,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return userRef; //used to update local state of app(header fe)\n};\n\nexport const addNewOrder = async (uid, cartData) => {\n  if (!uid) return;\n\n  const timestamp = new Date().getTime();\n\n  const orderRef = firestore.doc(`userdata/${uid}/userorders/${timestamp}`);\n\n  try {\n    await orderRef.set({\n      cartData: JSON.stringify(cartData),\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\n","export const cfgFirebase = {\n  apiKey: \"AIzaSyDKWKsqJ1vgUss06Laxv8_mO414ZFSGXpk\",\n  authDomain: \"react-bookshop-4ca2f.firebaseapp.com\",\n  projectId: \"react-bookshop-4ca2f\",\n  storageBucket: \"react-bookshop-4ca2f.appspot.com\",\n  messagingSenderId: \"633472712977\",\n  appId: \"1:633472712977:web:f3fa9651dac7b2142d0cb0\",\n};\n","import classes from \"./Button.module.css\";\n\nconst Button = (props) => {\n  return (\n    <button\n      type={props.type || \"button\"}\n      className={`${props.className} ${classes.button} `}\n      onClick={props.onClick}\n      disabled={props.disabled || false}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"NavLinks_active__133j8\",\"navbtn\":\"NavLinks_navbtn__2x9ew\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainwrap\":\"SignIn_mainwrap__2EbRg\",\"scroll\":\"SignIn_scroll__38gae\",\"btn\":\"SignIn_btn__I-4z1\",\"btnGoogle\":\"SignIn_btnGoogle__2iKmU\",\"resetWrap\":\"SignIn_resetWrap__29k2b\",\"reset\":\"SignIn_reset__2Q5WU\"};","import React from \"react\";\n\nconst CartContext = React.createContext({\n  items: [],\n  totalAmount: 0,\n  clearCart: () => {},\n  addItem: (item) => {},\n  removeWholeItem: (id) => {},\n  removeOneItem: (id) => {},\n});\n\nexport default CartContext;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book\":\"BookItem_book__5vnL1\",\"price\":\"BookItem_price__1jQEL\",\"moreinfo\":\"BookItem_moreinfo__1pP5a\",\"name\":\"BookItem_name__3W6eH\",\"shake\":\"BookItem_shake__1yLAw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scroll\":\"Books_scroll__24MDJ\",\"searchheader\":\"Books_searchheader__2QJMd\",\"titlesearchbar\":\"Books_titlesearchbar__3hQ2U\",\"error\":\"Books_error__CFydQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"totalAmount\":\"OrderDetails_totalAmount__6SjF8\",\"scroll\":\"OrderDetails_scroll__PSQQF\",\"finalrow\":\"OrderDetails_finalrow__1gSB1\",\"error\":\"OrderDetails_error__2DekD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"MobileNavigation_menu__1Nr9m\",\"mobileNav\":\"MobileNavigation_mobileNav__2DNHw\",\"popupMenu\":\"MobileNavigation_popupMenu__1WdEH\"};","import classes from \"./Backdrop.module.css\";\n\nconst Backdrop = (props) => {\n  return <div className={classes.backdrop} onClick={props.onClick} />;\n};\n\nexport default Backdrop;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"BookItemForm_form__Zzh86\",\"select\":\"BookItemForm_select__3n7TT\",\"item\":\"BookItemForm_item__2KFqX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailsmodal\":\"BookDetails_detailsmodal__2Of-5\",\"details-appear\":\"BookDetails_details-appear__kIAQJ\",\"details\":\"BookDetails_details__HmNdv\",\"btn\":\"BookDetails_btn__1ntyc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scroll\":\"SignUp_scroll__2wpKi\",\"mainwrap\":\"SignUp_mainwrap__j_HHg\",\"btn\":\"SignUp_btn__CwJwc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-control\":\"InputWrap_form-control__3yjlN\",\"invalid\":\"InputWrap_invalid__2tGH-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainwrap\":\"PasswordRecovery_mainwrap__3aBko\",\"btn\":\"PasswordRecovery_btn__wWhOd\",\"scroll\":\"PasswordRecovery_scroll__gOUFJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"HeaderBtn_cart__2SqFc\",\"icon\":\"HeaderBtn_icon__3bQ4x\",\"bump\":\"HeaderBtn_bump__2w7kt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"FormSubmissionPopup_notification__2BwXG\",\"error\":\"FormSubmissionPopup_error__Lhi_4\",\"success\":\"FormSubmissionPopup_success__1k1JD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scroll\":\"Orders_scroll__1Wera\",\"error\":\"Orders_error__H6CPw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"navlinks\":\"Header_navlinks__2XzKG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1m44e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__6-R6B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Backdrop_backdrop__1uHu4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"caption\":\"Caption_caption__3jnYN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-image\":\"BackgroundImage_main-image__w64W_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"Table_table__TN-qc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableheader\":\"TableHeader_tableheader__2x_CQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderitem\":\"OrderItem_orderitem__32WQH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tablerow\":\"TableRow_tablerow__37u9-\"};"],"sourceRoot":""}